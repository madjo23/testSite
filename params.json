{"name":"Testsite","tagline":"","body":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>POS SME</title>\r\n<script type=\"text/javascript\">\r\n// -------------------------------------------------------------------------- GET Init Data Model --------------------------------------------------------------------------\r\nfunction getInitDataModel(){\r\n        var userArray = [\r\n                                    { \"id\": 0, \"name\":\"admin\", \"pass\": \"root\", \"level\":1},\r\n                                    { \"id\": 1, \"name\":\"user\", \"pass\": \"1234\", \"level\":2}\r\n                                 ];\r\n        // SET - DB User\r\n        localStorage.setItem( 'user', JSON.stringify( userArray ) );\r\n        // Shop\r\n        var shopObj  = {\r\n                                    \"name\":\"อิสานแก๊ส\",\r\n                                    \"addr\":\"ddfdfdfdf fdfdfdfd sfdfdfdffd fdfdfdddfdf\",\r\n                                    \"tel\":\"04512121321, 2132135121\",\r\n                                    \"fax\":\"124-54125-455454\",\r\n                                    \"tax\": \"0-213-342432323\",\r\n                                    \"paper\": { \"width\":14, \"height\": 0 },\r\n                                    \"year\": { \"min\":2558 }\r\n                                    };\r\n        // SET - DB Shop\r\n        localStorage.setItem( 'shop', JSON.stringify( shopObj ) );\r\n        // Customer\r\n        var customerArray = [{ \"id\": 0, \"name\":\"ทั่วไป\", \"tel\": \"aaa-aaa-aaaa\", \"addr\":\"11 xx Rd xxxxxx xxxxxxx xxxxx\", \"fax\": \"xxx-xxxx-xxxx\"}, { \"id\": 1, \"name\":\"ประจำ\", \"tel\": \"aaa-aaa-aaaa\", \"addr\":\"11 xx Rd\", \"fax\": \"xxx-xxxx-xxxx\"}];\r\n        // SET - DB Customer\r\n        localStorage.setItem( 'customer', JSON.stringify( customerArray ) );\r\n        // Pay\r\n        var payArray = [{\"id\":0, \"name\":\"เงินสด\", \"level\":1}, {\"id\":0, \"name\":\"เงินสด+เช็ค\", \"level\":1}, {\"id\":0, \"name\":\"เงินสด+ตั๋วเงิน\", \"level\":1},\r\n                                {\"id\":0, \"name\":\"เช็ค\", \"level\":1}, {\"id\":0, \"name\":\"ค้างชำระ\", \"level\":1}];\r\n        // SET - DB Customer\r\n        localStorage.setItem( 'pay', JSON.stringify( payArray ) );\r\n        // User\r\n        var userArray = [{ \"id\": 0, \"name\":\"admin\", \"pass\": \"root\", \"level\":1}, { \"id\": 1, \"name\":\"user\", \"pass\": \"1234\", \"level\":2}];\r\n        // SET - DB User\r\n        localStorage.setItem( 'user', JSON.stringify( userArray ) );\r\n        var financeArray = [\r\n                                        {\"id\":1, \"name\":\"ไทยพานิช\", \"tel\":\"045-232-432\", \"fax\":\"045-232-437\"},\r\n                                        {\"id\":2, \"name\":\"กรุงเทพ\", \"tel\":\"045-232-432\", \"fax\":\"045-232-437\"},\r\n                                        {\"id\":3, \"name\":\"กสิกรไทย\", \"tel\":\"045-232-432\", \"fax\":\"045-232-437\"},\r\n                                        {\"id\":4, \"name\":\"กรุงไทย\", \"tel\":\"045-232-432\", \"fax\":\"045-232-437\"},\r\n                                        {\"id\":5, \"name\":\"กรุงศรี\", \"tel\":\"045-232-432\", \"fax\":\"045-232-437\"},\r\n                                        {\"id\":6, \"name\":\"ทหารไทย\", \"tel\":\"045-232-432\", \"fax\":\"045-232-437\"}\r\n                                     ];\r\n        localStorage.setItem( 'finance', JSON.stringify( financeArray ) );\r\n        // SET - DB History Array\r\n        var blankObj = {};\r\n        var blankArray = new Array();\r\n        localStorage.setItem( 'history', JSON.stringify( blankObj ) );\r\n        // SET - DB Today Array \r\n        localStorage.setItem( 'today', JSON.stringify( blankArray ) );\r\n        // SET - DB Debt History\r\n        localStorage.setItem( 'debtHistory', JSON.stringify( blankObj ) );\r\n        // SET - DB Debt Today\r\n        localStorage.setItem( 'debtToday', JSON.stringify( blankArray ) );\r\n        // SET - Product\r\n        var productObj = {\r\n                                        \"now\":[\r\n                                            {\"name\":\"สินค้า 1\", \"price\":\"240\", \"usage\":\"1\", \"unit\":\"กก\", \"sale\":0, \"stock\":50,\r\n                                                \"item\":[\r\n                                                                {\"name\": \"พื้นฐาน1\", \"usage\":15}, \r\n                                                                {\"name\": \"พื้นฐาน2\", \"usage\":1}\r\n                                                            ]\r\n                                            }\r\n                                            ],\r\n                                        \"history\":[]\r\n                                    };\r\n        // SET - DB Product\r\n        localStorage.setItem( 'product', JSON.stringify( productObj ) );\r\n        // SET - Item Array\r\n        var itemObj = { \"พื้นฐาน1\" : {\"name\":\"พื้นฐาน1\", \"quan\":100000000, \"price\":20, \"usage\":0, \"unit\":\"กก\"},\r\n                                 \"พื้นฐาน2\" : {\"name\":\"พื้นฐาน2\", \"quan\":100000000, \"price\":20, \"usage\":0, \"unit\":\"กก\"} \r\n                               };\r\n        // SET - DB Product\r\n        localStorage.setItem( 'item', JSON.stringify( itemObj ) );\r\n        // SET UP - Ready To DOWNLOAD File\r\n        var mainObj = {};\r\n        var dataObj = Object.keys(localStorage).reduce(function(obj, str) {\r\n            // SEE data Model\r\n            if( str !== 'shop' ){\r\n                mainObj[str+'Array'] = JSON.parse(localStorage.getItem(str));\r\n            }else{\r\n                mainObj[str] = JSON.parse(localStorage.getItem(str));\r\n            }\r\n        }, {});\r\n        // SET - Text to write\r\n        var textToWrite = JSON.stringify( mainObj );\r\n        // SET - Blob\r\n        var textFileAsBlob = new Blob( [textToWrite] , { type:'text/plain' });\r\n        // GET - user calendar\r\n        var userCalendar = JSON.parse( localStorage.getItem('userCalendar') );\r\n        console.log('index.html - user calendar => '+localStorage.getItem('userCalendar') );\r\n        // SET - File name\r\n        var fileNameToSaveAs = 'data'+userCalendar.timeStamp+'.txt';\r\n        console.log('index.html - file name => '+localStorage.getItem('userCalendar') );\r\n        // SET - Download\r\n        var downloadLink = document.getElementById(\"myDownload\");\r\n        downloadLink.download = fileNameToSaveAs;\r\n        window.URL = window.URL || window.webkitURL;\r\n        downloadLink.href = window.URL.createObjectURL( textFileAsBlob );\r\n        console.log('index.html - set up - guest - data => ' + textToWrite);\r\n        // Activate - Automatic download\r\n        // downloadLink.click();\r\n        // Clear input\r\n        document.getElementById('inputUserName').value = '';\r\n        document.getElementById('inputUserPass').value = '';\r\n        // LOG\r\n        // console.log('index.html - : getInitDataModel() : selected user = '+$scope.selectUser.name+' , passWord = '+$scope.selectUser.pass+' Date[d/M/YYYY] = '+$scope.selectUser.date+' , flagUser = '+flagUser);\r\n}\r\n/* ---------------------------------------------------------------- Pure JavaScript # LOAD Data in -------------------------------------------------------------------- */ \r\nwindow.onload = function() {\r\n    \r\n    // SET Today as system clock\r\n    var now = new Date();\r\n    document.getElementById('calendarDate').value = now.getDate();\r\n    document.getElementById('calendarMonth').options[ now.getMonth() ].setAttribute(\"selected\", \"selected\");\r\n    document.getElementById('calendarYear').value = parseInt( now.getFullYear() ) + 543 ;\r\n    \r\n    localStorage.setItem(\"userCalendar\", JSON.stringify( { today: now.getDate()+'/'+parseInt( now.getMonth() + 1 )+'/'+now.getFullYear(), timeStamp: now.getTime() } ));\r\n    // set Data Model - Today & History\r\n    if( localStorage.getItem('today') === null ) {\r\n        localStorage.setItem('today', JSON.stringify( new Array() ));\r\n        console.log('index.html - window.onload() - today is set as Empty Array');\r\n    }\r\n    if( localStorage.getItem('history') === null ) {\r\n        localStorage.setItem('history', JSON.stringify( {} ));\r\n        console.log('index.html - window.onload() - history is set as Empty Object');\r\n    }\r\n    \r\n    // set Debt Today & History\r\n    if( localStorage.getItem('debtToday') === null ) {\r\n        localStorage.setItem('debtToday', JSON.stringify( new Array() ));\r\n        console.log('index.html - window.onload() - debtToday is set as Empty Array');\r\n    }\r\n    if( localStorage.getItem('debtHistory') === null ) {\r\n        localStorage.setItem('debtHistory', JSON.stringify( {} ));\r\n        console.log('index.html - window.onload() - debtHistory is set as Empty Object');\r\n    }\r\n    // READ from File, then SET localStorage\r\n\tvar fileInput = document.getElementById('fileInput');\r\n\tfileInput.addEventListener('change', function(e) {\r\n\t\t\tvar file = fileInput.files[0];\r\n\t\t\tvar textType = /text.*/;\r\n            // bytes\r\n            var iFileSize = file.size;\r\n            // MB\r\n            var iConvert = ( file.size / 10485760 ).toFixed(2);\r\n            \r\n            if(iConvert < 4.90){\r\n                console.log('index.html - onload() : file size = '+iFileSize+'bytes or '+iConvert+'MB');          \r\n            \r\n                if ( file.type.match(textType) ) {\r\n                    \r\n                    var reader = new FileReader();\r\n                    // asynch - work after readAsText\r\n                    reader.onload = function(e) {\r\n                       try{\r\n                            // remove all data inside localStorage - localStorage.clear();\r\n                            var doc = JSON.parse(reader.result);      // console.log('content = ' + reader.result);\r\n                            // is Empty\r\n                            if(Object.keys(doc).length === 0)       throw 'JSON Obj is empty - check your loaded JSON Doc';\r\n                            // SET - User\r\n                            if( !doc.hasOwnProperty('userArray') )       throw 'JSON.userArray - missing ';\r\n                            localStorage.setItem('user', JSON.stringify(doc.userArray));\r\n                            // SET - Item \r\n                            if( !doc.hasOwnProperty('itemArray') )       throw 'JSON.itemArray - missing ';\r\n                            localStorage.setItem('item', JSON.stringify(doc.itemArray));\r\n                            // SET - Product - always behide Item \r\n                            if( !doc.hasOwnProperty('productArray') )       throw 'JSON.productArray - missing ';\r\n                            localStorage.setItem('product', JSON.stringify(doc.productArray));\r\n                            // SET - Pay \r\n                            if( !doc.hasOwnProperty('payArray') )       throw 'JSON.payArray - missing ';\r\n                            localStorage.setItem('pay', JSON.stringify(doc.payArray));\r\n                            // SET - Finance \r\n                            if( !doc.hasOwnProperty('financeArray') )       throw 'JSON.financeArray - missing ';\r\n                            localStorage.setItem('finance', JSON.stringify(doc.financeArray));\r\n                            // SET - Customer \r\n                            if( !doc.hasOwnProperty('customerArray') )       throw 'JSON.customerArray - missing ';\r\n                            localStorage.setItem('customer', JSON.stringify(doc.customerArray));\r\n                            // SET - Shop\r\n                            if( !doc.hasOwnProperty('shop') )       throw 'JSON.shop - missing ';\r\n                            localStorage.setItem('shop', JSON.stringify(doc.shop));\r\n// SET - user define Date\r\nvar selectedDate = document.getElementById('calendarDate').value;\r\nif( isNaN( parseInt( selectedDate ) ) )                  throw 'ผิดพลาด - วันที่ ';\r\nvar selectedMonth = document.getElementById(\"calendarMonth\").options[document.getElementById(\"calendarMonth\").selectedIndex].value;\r\nvar selectedYear = document.getElementById(\"calendarYear\").value;\r\nif( isNaN( parseInt( selectedYear ) ) )                  throw 'ผิดพลาด - ปี ';\r\nvar dateObj = new Date( selectedYear,  selectedMonth , selectedDate);\r\nif( parseInt( selectedMonth ) !== dateObj.getMonth() ){\r\n    throw 'index.html - FileLoad() , month, select tag = '+selectedMonth+' , @Date Obj = '+dateObj.getMonth();\r\n}\r\n                            // SET global clock\r\n                            var  txtInputDate = selectedDate+'/'+ ( parseInt( selectedMonth ) + 1 )+'/'+( parseInt( selectedYear ) - 543);\r\n                            localStorage.setItem('userCalendar', JSON.stringify({ today : txtInputDate, timeStamp: dateObj.getTime() }) );\r\n                            console.log('selected date = '+txtInputDate);\r\n                            // SET - Today Array - var  txtInputDate = '11/9/2015';\r\n                            if( doc.hasOwnProperty('todayArray') ){\r\n                                // move to History, then CLEAR - Today for it\r\n                                if( doc.todayArray.length > 0)\r\n                                if( doc.todayArray[0].billDate.localeCompare( txtInputDate ) !== 0 ){                       // Not Match\r\n                                    if( doc.historyArray.hasOwnProperty( txtInputDate ) ){\r\n                                        for( s of doc.todayArray )                  doc.historyArray[txtInputDate].push(s);         // today @ s.billDate -> history @ date\r\n                                        localStorage.setItem('today', JSON.stringify( new Array() ));\r\n                                    }else{\r\n                                        doc.historyArray[ doc.todayArray[0].billDate ] = new Array();\r\n                                        for( s of doc.todayArray )                  doc.historyArray[s.billDate].push( s );\r\n                                    }\r\n                                    // CLEAR\r\n                                    localStorage.setItem('today', JSON.stringify( new Array() ));\r\n                                    console.log('index.html - Finishted trasfer Today Array to History Array, Today is set Empty');\r\n                                }\r\n                                // Equal\r\n                                else{\r\n                                    localStorage.setItem('today', JSON.stringify( doc.todayArray ));\r\n                                    console.log('index.html - Today is SET : '+JSON.stringify( doc.todayArray ) );\r\n                                }\r\n                                \r\n                            }else{\r\n                                localStorage.setItem('today', JSON.stringify( new Array() ));\r\n                                console.log('index.html - Today is set Empty');\r\n                            }\r\n                            // SET - History, History is finished from data manipulation by Today\r\n                            if( !doc.hasOwnProperty('historyArray') ){\r\n                                localStorage.setItem('history', JSON.stringify( {} ));\r\n                                console.log('index.html - History Array is SET as Empty Array as scheme => history.date.{sell / buy : Array of { slip } with DATE & Time stamp}');\r\n                            }else{\r\n                                localStorage.setItem('history', JSON.stringify( doc.historyArray ));\r\n                                console.log('index.html - History Array is added');\r\n                            }\r\n                            // SET - Debt Today\r\n                            if( doc.hasOwnProperty('debtTodayArray') ){\r\n                                // move to Debt History, then CLEAR - Debt Today for it\r\n                                if( doc.debtTodayArray.length > 0 )\r\n                                if( doc.debtTodayArray[0].billDate.localeCompare( txtInputDate ) !== 0 ){\r\n                                    // Date Exist in DebtHistory\r\n                                    if( doc.debtHistoryArray.hasOwnProperty( txtInputDate ) ){\r\n                                        for( s of doc.debtTodayArray )                doc.debtHistoryArray[txtInputDate].push(s);\r\n                                    }else{\r\n                                        doc.debtHistoryArray[ doc.debtTodayArray[0].billDate ] = new Array();\r\n                                        for( s of doc.debtTodayArray )                doc.debtHistoryArray[s.billDate].push(s);\r\n                                    }\r\n                                    // CLEAR\r\n                                    localStorage.setItem('debtToday', JSON.stringify( new Array() ));\r\n                                    console.log('index.html - Finishted trasfer Debt Today Array to History Array, Today is set Empty');\r\n                                }\r\n                                // Equal\r\n                                else{\r\n                                    localStorage.setItem('debtToday', JSON.stringify( doc.debtTodayArray ));\r\n                                    console.log('index.html - debtToday is SET : '+JSON.stringify( doc.debtTodayArray ) );\r\n                                }\r\n                                \r\n                                \r\n                            }else{\r\n                                localStorage.setItem('debtToday', JSON.stringify( new Array() ));\r\n                                console.log('index.html - debtToday is set Empty');\r\n                            }\r\n                            // SET - Debt History\r\n                            if( doc.hasOwnProperty('debtHistoryArray') ){\r\n                                localStorage.setItem('debtHistory', JSON.stringify( doc.debtHistoryArray ));\r\n                                console.log('index.html - debtHistory Array is SET as Empty Array - scheme => debtHistory.date.{sell / buy : Array of { slip } with DATE & Time stamp}');\r\n                            }else{\r\n                                localStorage.setItem('debtHistory', JSON.stringify( {} ));\r\n                                console.log('index.html - debtHistory Array is added as Empty Object');\r\n                            }\r\n                            \r\n                        }catch(e){\r\n                            window.alert('index.html - Error - load File :- '+e);\r\n                            console.log('index.html - Error - load File :- '+e);\r\n                        }\r\n                    }\r\n                    reader.readAsText(file);\r\n                    // Upload Pass - user\r\n                    document.getElementById('fileInput').style.backgroundColor  = 'rgba(0, 70, 107, 1)';\r\n                    document.getElementById('fileInput').style.color  = 'rgba(221, 235, 244, 0.5)';\r\n                } else {\r\n                    console.log(\"index.html : Error - File not supported!\");\r\n                }\r\n            }\r\n\t\t});\r\n}\r\n</script>\r\n<style type=\"text/css\">\r\n\r\n@import url(\"src/font_TH_Sarabun_New/fonts/thsarabunnew.css\");\r\n\r\n.mainPanel{\r\n    display:block;\r\n    \r\n    top:0;                              left:0;                   z-index:1; \r\n    width: 100vw;                 height: 300vh; \r\n    \r\n    background: url('background/city-dark.jpg') no-repeat 0 0; \r\n    background-repeat: no-repeat; \r\n    background-attachment: fixed; \r\n    background-size: cover; \r\n    margin:0; padding:0;\r\n\r\n        transform: translateZ( 0 );\r\n        backface-visibility: hidden;\r\n        transition: transform 0.6s ease-in-out;\r\n}\r\n/* -------------------------------------------------------------------------------- LogIn Panel ----------------------------------------------------------------------------------------------- */   \r\n.mainPanel .loginPanel, .mainPanel .menuPanel, .mainPanel .workPanel{\r\n    display: block;             z-index: 1;\r\n    position: relative;        \r\n    width: 100vw;       height: 100vh;\r\n    background-color: rgba(23, 23, 23, 0.5);\r\n}\r\n.mainPanel .loginPanel .userProcess{\r\n    display: block;            z-index: 0;\r\n    position: absolute;     top: 10vh;              left: 0;            right: 0;           bottom: 0;\r\n    margin-left: 10vw;\r\n    width: 80vw;            height: 80vh;\r\n    \r\n    background-color: rgba(1, 38, 39, 0.9); \r\n    \r\n    border: 1px solid rgba(10, 30, 10, 1);/*rgba(200, 200, 200, 1); rgba(50, 200, 8, 1); */\r\n    border-radius: 15px;\r\n}    \r\n.mainPanel .loginPanel .userProcess:hover{\r\n    border: 1px solid rgba(50, 200, 8, 1);\r\n}\r\n\r\n.mainPanel .loginPanel .userProcess .loginTopic{\r\n    display:block;              position:relative;                   width:100%; \r\n    text-align:center; \r\n    font-size:7vh;              text-shadow: 2px 2px rgba( 44, 44, 44, 1); \r\n    color: rgba(50, 200, 8, 1);      margin-bottom: 3vh;\r\n}\r\n    \r\n.mainPanel .loginPanel .userProcess .inputUser{\r\n    height: 10vh;                                   font-size: 6vh;\r\n    color: rgba(0, 70, 107, 1);               cursor: default;\r\n    background-color: rgba(221, 235, 244, 0.5);\r\n    border: 0;\r\n}\r\n.mainPanel .loginPanel .userProcess .inputUser:focus{\r\n    color: rgba(0, 140, 214, 1);\r\n    background-color: rgba(221, 235, 244, 1);\r\n}\r\n.mainPanel .loginPanel .userProcess .inputUser:hover{\r\n    border-bottom: 3px solid yellow;\r\n}\r\n/* ----------------------------------------------------------------- Animation ----------------------------------------------------------------- */        \r\ninput[id='toggle-menuPanel']:checked ~ article.mainPanel{\r\n        transform: translateY(  -100vh );\r\n}\r\n    \r\ninput[id='toggle-workPanel']:checked ~ article.mainPanel{\r\n        transform: translateY(  -200vh );\r\n}\r\n \r\n/*    \r\n    article.mainPanel section.loginPanel header.userProcess\r\n    \r\n#spinImg:hover{\r\n    cursor: pointer;\r\n    background: yellow url(\"img/man353.svg\") no-repeat fixed center; \r\n    \r\n    -webkit-animation: spin 4000ms infinite linear;\r\n    animation: spin 4000ms infinite linear;\r\n}\r\n@keyframes spin {\r\n    from {        transform: scale(1.0) rotate(0deg);    }\r\n    to {        transform: scale(0.5) rotate(360deg);    }\r\n}\r\n*/\r\n#spinImg:hover{\r\n    cursor: pointer;\r\n    background: none url(\"img/man353.svg\") no-repeat fixed center; \r\n    border-bottom: 3px solid rgba(50, 200, 8, 1);\r\n}\r\n#spinImg:active{\r\n    background-color: rgba(50, 200, 8, 1);\r\n}\r\n    \r\n/* ----------------------------------------------------------------- Menu Panel ----------------------------------------------------------------- */ \r\n.mainPanel .menuPanel .exitIcon{\r\n    display: block;               position: absolute; \r\n    top: 0;                          right: 0; \r\n    width: 5vh;                 height: 5vh;\r\n    background-color: rgba(243, 159, 24, 1);\r\n    border: 2px solid rgba(243, 159, 24, 1);\r\n    cursor: pointer;\r\n    \r\n    transition: all 0.2s ease;\r\n}\r\n.mainPanel .menuPanel .exitIcon:hover{\r\n    width: 10vh;                 height: 10vh;\r\n    background-color: rgba(36, 196, 163, 1);\r\n    border: 2px solid rgba(36, 196, 163, 1);\r\n    box-shadow: 3px 3px rgba(243, 159, 24, 1);\r\n}\r\n.mainPanel .menuPanel .exitIcon:active{\r\n    background-color: yellow;\r\n    border: 2px solid yellow;\r\n    box-shadow: 3px 3px white;\r\n} \r\n\r\n.mainPanel .menuPanel .userPanel{\r\n    display: block;                position: relative;      \r\n    top: 0;                           left: 0;\r\n    bottom: 0;                     right: 0;\r\n    margin: auto;                margin-bottom: 5vh;\r\n    width: 60vw;                 height: 55vh;\r\n}\r\n/* Header */\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel{\r\n    display: block;          position: relative;\r\n    top:0;                       left:0;\r\n    width: 100%;          height: 25vh;\r\n    padding-top: 2vh;\r\n}\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBg{\r\n    display: block;           position: relative;\r\n    \r\n    width: 80%;           height: 100%;     float: left;\r\n    \r\n    background: linear-gradient( yellow, yellow  50%, white 50%, white);\r\n    background-size: 100% 200%;\r\n    \r\n    transition: all 0.2s ease;\r\n}\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBg:hover{\r\n    background-position: 100% 100%;\r\n    box-shadow: 3px 3px grey;\r\n}\r\n/* work with .sellBg */\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBg .largeButton{\r\n    display: block;            width: 100%;                 height: 100%;\r\n    text-align: center; \r\n    font-size: 15vh;                  color: black;\r\n    \r\n    background-image: url('img/delivery36_64_black.svg');\r\n    background-size: auto 100%;\r\n    background-repeat: no-repeat;\r\n    background-position: left top;\r\n    \r\n    transition: background-position .6s ease-in; \r\n}\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBg .largeButton:hover{\r\n    color: black;\r\n    background-position: right top;\r\n}\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBg .largeButton:active{\r\n    color: white;\r\n    background-color: orange;\r\n}\r\n\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBgEdit{\r\n    display: block;           position: relative;   \r\n    top: 0;                      left: 0;    \r\n    width: 100%;           height: 100%;     float: right;\r\n    \r\n    background: linear-gradient( white, white  50%, rgba( 244, 122, 55, 1) 50%, rgba( 244, 122, 55, 1) );\r\n    background-size: 100% 200%;\r\n\r\n    transition: all 0.2s ease;\r\n}\r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBgEdit:hover{\r\n    background-position: 100% 100%;\r\n    box-shadow: 3px 3px grey;\r\n}\r\n    \r\n.mainPanel .menuPanel .userPanel .userHeaderPanel .sellBgEdit .largeButtonEdit{\r\n    display: block;            width: 100%;                 height: 100%;\r\n    text-align: center; \r\n    font-size: 2vw;                  color: black;\r\n    \r\n    background-size: auto 75%;\r\n    background-repeat: no-repeat;\r\n    background-position: 50% bottom;\r\n}\r\n\r\n/* Footer */\r\n.mainPanel .menuPanel .userPanel .userFooterPanel{\r\n    display: block;                    position: relative;\r\n    margin-top: 3vh;\r\n    width: 100%;                    height: 20vh;\r\n}\r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame{\r\n    display:block;                          position:relative;              float:left; \r\n    width:30%;                             height:100%; \r\n    text-align:center;\r\n    cursor: pointer;\r\n    \r\n    background: linear-gradient( yellow, yellow  50%, white 50%, white);\r\n    background-size: 100% 200%;\r\n    \r\n    transition: all 0.2s ease;\r\n}\r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame:hover{\r\n    background-position: 100% 100%;\r\n    box-shadow: 3px 3px orange;\r\n}\r\n\r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame .userSmallIcon, \r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame .userSmallIcon1, \r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame .userSmallIcon2{\r\n    display: block; \r\n    width: 100%;                height: 100%;\r\n    font-size: 6vh;               text-align: right;        font-weight: 500;           line-height: 2.5;       color: black;\r\n    padding-right: 0.5vw;\r\n    background-image: url('img/file148_64_black.svg');\r\n    /*\r\n    background-repeat: no-repeat; background-attachment: fixed; background-position: 50% bottom;\r\n    */\r\n    background-size: auto 95%;\r\n    background-repeat: no-repeat;\r\n    background-position: 0.5vw 0.5vh;\r\n\r\n}\r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame .userSmallIcon:active {\r\n    background-color: orange;\r\n    box-shadow: 3px 3px white;\r\n}\r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame .userSmallIcon1{\r\n    background-image: url('img/debt_64_black.svg');\r\n}\r\n.mainPanel .menuPanel .userPanel .userFooterPanel .smallFrame .userSmallIcon2{\r\n    background-image: url('img/memory.svg');\r\n}\r\n    \r\n/* -------------------------------------------------------------------------------------- Admin Panel -------------------------------------------------------------------------------------- */\r\n.mainPanel .menuPanel .adminPanel{\r\n    display: block;                position: relative;      \r\n    top: 0;                           left: 0;\r\n    bottom: 0;                     right: 0;\r\n    margin: auto;\r\n    width: 60vw;                 height: 30vh;\r\n}\r\n    \r\n.mainPanel .menuPanel .adminPanel .adminFrame{\r\n    display: block;                         position: relative;              float:left; \r\n    width: 30%;                            height: 100%; \r\n    font-size: 5vh;                         text-align: right;\r\n    cursor: pointer;\r\n    \r\n    background: linear-gradient( rgba( 244, 122, 55, 1), rgba( 244, 122, 55, 1)  50%, rgba(36, 196, 163, 1) 50%, rgba(36, 196, 163, 1) );\r\n    background-size: 100% 200%;\r\n    \r\n    transition: all 0.2s ease;\r\n}\r\n.mainPanel .menuPanel .adminPanel .adminFrame:hover{\r\n    background-position: 100% 100%;\r\n}  \r\n    \r\n.mainPanel .menuPanel .adminPanel .userSmallIcon,\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon1,\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon2,\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon3,\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon4,\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon5{\r\n    display: block; \r\n    width: 100%;                height: 100%;           padding-right: 0.5vw;\r\n    font-size: 4vh;               text-align: right;        font-weight: 500;       color: black;       line-height: 2;\r\n    word-break: keep-all;\r\n    \r\n    background-image: url('img/mind.svg');\r\n    background-size: auto 95%;\r\n    background-repeat: no-repeat;\r\n    background-position: 0.5vw 0.5vh;\r\n}\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon1{\r\n    background-image: url('img/man251.svg');\r\n}\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon2{\r\n    background-image: url('img/commerce1.svg');\r\n}\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon3{\r\n    background-image: url('img/multiple25.svg');\r\n}\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon4{\r\n    background-image: url('img/banking2.svg');\r\n}\r\n.mainPanel .menuPanel .adminPanel .userSmallIcon5{\r\n    background-image: url('img/store5.svg');\r\n} \r\n    \r\n/* ------------------------------------------------------------------------------- Work Panel --------------------------------------------------------------------------------------- */\r\n.mainPanel .workPanel .menuIcon{\r\n    display: block;             position: absolute; \r\n    top: 0;                        right: 0; \r\n    width: 5vh;                 height: 5vh;\r\n    background-color: greenyellow;\r\n    border: 2px solid greenyellow;\r\n    cursor: pointer;\r\n}\r\n.mainPanel .workPanel .menuIcon:hover{\r\n    background-color: white;\r\n    border: 2px solid white;\r\n    box-shadow: 3px 3px greenyellow;\r\n}\r\n.mainPanel .workPanel .menuIcon:active{\r\n    background-color: orange;\r\n    border: 2px solid orange;\r\n    box-shadow: 3px 3px white;\r\n}\r\n/* -------------------------------------------------------- Download Init Data -------------------------------------------------------- */\r\n#myDownload{\r\n    position:relative;      color:white;        margin-left:2vw;        cursor: pointer;    font-weight: 500;       text-shadow: 2px 2px rgba(44, 44, 44, 1);\r\n}\r\n#myDownload:hover{\r\n    color: yellow;\r\n}\r\n#myDownload:active{\r\n    color: orange;\r\n}\r\n</style>\r\n</head>\r\n<body style=\"display:block; position:absolute; z-index:0; margin:0; padding:0; overflow:hidden; font-family: 'THSarabunNew', sans-serif; font-stretch: expanded;\" ng-app=\"SME_app\" ng-controller=\"SME_Ctrl\">\r\n<!-- Navigation -->\r\n    <input type=\"checkbox\" id=\"toggle-menuPanel\" style=\"display:none;\">\r\n    <input type=\"checkbox\" id=\"toggle-workPanel\" style=\"display:none;\">\r\n    <header style=\"display:block; position:absolute; top:0; left:0; z-index: 999; margin:0; padding:0; color:white; visibility:hidden;\">\r\n        <label style=\"cursor:pointer;\" for=\"toggle-menuPanel\" id=\"buttonMenu\">menu</label>\r\n        <label style=\"cursor:pointer;\" for=\"toggle-workPanel\" id=\"buttonWork\">work</label>\r\n    </header>\r\n    <article class=\"mainPanel\">\r\n        <section class=\"loginPanel\">\r\n            <header class=\"userProcess\">\r\n                <label class=\"loginTopic\">ใช้งาน ระบบ<a id=\"myDownload\" onclick=\"getInitDataModel()\">&#x2600;</a></label>\r\n                <aside style=\"display:block; position:relative; float:left; width: 70%; height: 100%;\">\r\n                    <label style=\"display:block; position:relative; width:100%; height:10vh; margin-bottom:3vh;\">\r\n                        <img src=\"img/deadlines_64.svg\" width=\"10%\" height=\"100%\" style=\"position:absolute; margin-left: 10%;\">\r\n                        <!-- DatePicker -->\r\n                        <div style=\"display:block; width:100%; float:right;\">\r\n                            <input class=\"inputUser\" style=\"width:23%; float:right; text-align:right;\" id=\"calendarYear\" type=\"number\" min=\"2557\" max=\"2599\" step=\"1\" placeholder=\"ปี\" value=\"2558\">\r\n                            <select class=\"inputUser\" style=\"width:20%; float:right; margin-right:5%; text-align:center;\" id=\"calendarMonth\">\r\n  <option value=\"0\" selected>ม.ค.</option>\r\n  <option value=\"1\">ก.พ.</option>\r\n  <option value=\"2\">มี.ค.</option> \r\n  <option value=\"3\">เม.ย.</option>\r\n  <option value=\"4\">พ.ค.</option>\r\n  <option value=\"5\">มิ.ย.</option> \r\n  <option value=\"6\">ก.ค.</option>\r\n  <option value=\"7\">ส.ค.</option>\r\n  <option value=\"8\">ก.ย.</option> \r\n  <option value=\"9\">ต.ค.</option>\r\n  <option value=\"10\">พ.ย.</option>\r\n  <option value=\"11\">ธ.ค.</option>\r\n                            </select>\r\n                            <input class=\"inputUser\" style=\"width:13%; float:right; margin-right:5%; text-align:right;\" id=\"calendarDate\" type=\"number\" min=\"1\" max=\"31\" step=\"1\" placeholder=\"วันที่\" value=\"1\">\r\n                        </div>\r\n                    </label>\r\n                    <label style=\"display:block; position:relative; width:100%; height:10vh; margin-bottom:3vh;\">\r\n                        <img src=\"img/male80_64.svg\" width=\"10%\" height=\"100%\" style=\"position:absolute; margin-left: 10%;\">\r\n                        <input type=\"text\" class=\"inputUser\" id=\"inputUserName\" style=\"width:75%; margin-left:25%;\" placeholder=\"ชื่อ\" ng-model=\"selectUser.name\">\r\n                    </label>\r\n                    <label style=\"display:block; position:relative; width:100%; height:10vh; margin-bottom:3vh;\">\r\n                        <img src=\"img/key64v2.svg\" width=\"10%\" height=\"100%\" style=\"position:absolute; margin-left: 10%;\">\r\n                        <input type=\"password\" class=\"inputUser\" id=\"inputUserPass\" style=\"width:75%; margin-left:25%;\" placeholder=\"รหัส\" ng-model=\"selectUser.pass\">\r\n                    </label>\r\n                    <label style=\"display:block; position:relative; width:100%; height:10vh;\">\r\n                        <img src=\"img/pendrive10_64.svg\" width=\"10%\" height=\"100%\" style=\"position:absolute; margin-left: 10%;\">\r\n                        <input type=\"file\" class=\"inputUser\" id=\"fileInput\" style=\"width: 75%; margin-left:25%;\">\r\n                    </label>\r\n                </aside>\r\n                <aside style=\"display:block; position:relative; float:left; width: 25%; height: 100%; margin-left:2%; margin-top: 10vh;\">\r\n                    <label style=\"display:block; position:relative; width:100%; height: 30vh;\">\r\n                    <img id=\"spinImg\" src=\"img/man353.svg\" width=\"100%\" height=\"100%\" style=\"position:absolute; left:0;\" ng-click=\"isUser()\">\r\n<!-- <img src=\"img/error4v2.svg\" width=\"10%\" height=\"100%\" style=\"position:absolute; right:0; margin-right: 25%;\">      -->\r\n                    </label>\r\n                </aside>\r\n            </header>\r\n        </section>\r\n        <section class=\"menuPanel\">\r\n                <img class=\"exitIcon\" src=\"../aReal/img/arrow492.svg\" ng-click=\"goLoginPanel()\">\r\n            <header class=\"userPanel\">\r\n                <!-- <div style=\"display:block; padding-top:5vh;\"></div> -->\r\n                <header class=\"userHeaderPanel\">\r\n                    <div style=\"display:block; position:relative; width:100%; height:100%; margin-bottom:5vh;\">\r\n                        <label class=\"sellBg\">\r\n                            <a class=\"largeButton\" href=\"#/gotoSell\" ng-click=\"gotoWork()\">ขาย</a>\r\n                        </label>\r\n                        <div style=\"display: block; position: relative; width: 18%; height: 100%; float: right;\">\r\n                            <label class=\"sellBgEdit\" style=\"margin-bottom:2vh;\">\r\n                                 <!-- <a class=\"largeButtonEdit\" href=\"#/gotoEditSell\" ng-click=\"gotoWork()\">แก้ขาย</a> -->\r\n                                <a class=\"largeButtonEdit\" href=\"#/gotoEditSell\" ng-click=\"gotoWork()\">\r\n                                    <label style=\"display:block; width:100%; height:100%; background-image: url('/img/config.svg'); background-repeat: no-repeat; background-size: 100% 100%;\">แก้ขาย</label>\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </header>\r\n                <footer class=\"userFooterPanel\">\r\n                    <label class=\"smallFrame\">\r\n                        <a class=\"userSmallIcon\" href=\"#/gotoReport\" ng-click=\"gotoWork()\">รายงาน</a>\r\n                    </label>\r\n                    <label class=\"smallFrame\" style=\"margin-left:5%; margin-right:5%;\">\r\n                        <a class=\"userSmallIcon1\" href=\"#/gotoDebt\" ng-click=\"gotoWork()\">ลูกหนี้</a>\r\n                    </label>\r\n                    <label class=\"smallFrame\">\r\n                        <a class=\"userSmallIcon2\" style=\"line-height:1.4;\" href=\"#/gotoUSB\" ng-click=\"gotoWork()\" >สำรอง<br>ข้อมูล</a>\r\n                    </label>\r\n                </footer>\r\n            </header>\r\n            <footer class=\"adminPanel\" id=\"adminPanel\">\r\n                 <div style=\"display:block; position:relative; width:100%; height:14vh; color:white;\">\r\n                     <label class=\"adminFrame\">\r\n                        <a class=\"userSmallIcon\"  href=\"#/gotoEditProduct\" ng-click=\"gotoWork()\">สินค้า ขาย</a>\r\n                     </label>\r\n                     <label class=\"adminFrame\" style=\"margin-left:5%; margin-right:5%;\">\r\n                        <a class=\"userSmallIcon1\"  style=\"line-height:1.7;\"  href=\"#/gotoEditProductItem\" ng-click=\"gotoWork()\">สินค้า<br>พื้นฐาน</a>\r\n                     </label>\r\n                     <label class=\"adminFrame\">\r\n                        <a class=\"userSmallIcon2\"  href=\"#/gotoEditPayment\" ng-click=\"gotoWork()\">จ่ายเงิน</a>\r\n                     </label>\r\n                 </div>\r\n                 <div style=\"display:block; position:relative; width:100%; height:14vh; margin-top:1vh; color:white\">\r\n                     <label class=\"adminFrame\">\r\n                         <a class=\"userSmallIcon3\"  href=\"#/gotoEditCustomer\" ng-click=\"gotoWork()\">ลูกค้า</a>\r\n                     </label>\r\n                     <label class=\"adminFrame\" style=\"margin-left:5%; margin-right:5%;\">\r\n                         <a class=\"userSmallIcon4\"  href=\"#/gotoEditFinance\" ng-click=\"gotoWork()\">ธนาคาร</a>\r\n                     </label>\r\n                     <label class=\"adminFrame\">\r\n                         <a class=\"userSmallIcon5\" id=\"myShop\" href=\"#/gotoEditShop\" ng-click=\"gotoWork()\">ร้านค้า</a>\r\n                     </label>\r\n                     <label style=\"display:none;\">\r\n                         <a id=\"myBlankPage\" href=\"#/gotoBlank\"></a>\r\n                     </label>\r\n                 </div>\r\n            </footer>\r\n        </section>\r\n        <section class=\"workPanel\" style=\"padding-top:0;\">\r\n                <img class=\"menuIcon\" src=\"../aReal/img/arrow492.svg\" ng-click=\"goMenuPanel()\">\r\n            <div id=\"newApp\" style=\"display:block; position:relative; top:0; left:0; bottom:0; right:0; width:100vw; height: 100vh; margin:0;\" ng-view></div>\r\n        </section>\r\n    </article>\r\n<script src=\"src/angularJs-1.4.3/angular.min.js\"></script>\r\n<script src=\"src/angularJs-1.4.3/angular-route.min.js\"></script>\r\n<!-- Loadd App -->\r\n<script src=\"sell.js\"></script>\r\n<script src=\"editProduct.js\"></script>\r\n<script src=\"editItem.js\"></script>\r\n<script src=\"editFinance.js\"></script>\r\n<script src=\"editPayment.js\"></script>\r\n<script src=\"editCustomer.js\"></script>\r\n<script src=\"editShop.js\"></script>\r\n<script src=\"editSell.js\"></script>\r\n<script src=\"editDebt.js\"></script>\r\n<script src=\"dailyReport.js\"></script>\r\n<script src=\"blank.js\"></script>\r\n<script src=\"usb.js\"></script>\r\n<!-- AngularJS -->\r\n<script type=\"text/javascript\">\r\n/* ------------------------------------------------------------------------ AngularJs ------------------------------------------------------------------------ */\r\nvar app = angular.module('SME_app', ['ngRoute', 'sell', 'editProduct', 'editItem', 'editFiance', 'editPayment', 'editCustomer', 'editShop', 'editSell', 'editDebt', 'dailyReport', 'blankPage', 'usb'] );\r\n// routing between page\r\napp.config(['$routeProvider',  function($routeProvider) {\r\n    $routeProvider.\r\n      when('/gotoSell', { \ttemplateUrl: '../aReal/gotoSell2.html',\t     controller: 'ctrl_gotoSell'      }).\r\n      when('/gotoEditProduct', { \ttemplateUrl: '../aReal/gotoEditProduct.html',\t     controller: 'CtrlEditProduct'      }).\r\n      when('/gotoEditProductItem', { \ttemplateUrl: '../aReal/gotoEditProductItem.html',\t     controller: 'CtrlEditItem'      }).\r\n      when('/gotoEditFinance', { \ttemplateUrl: '../aReal/gotoEditFinance.html',\t     controller: 'CtrlEditFinance'      }).\r\n      when('/gotoEditPayment', { \ttemplateUrl: '../aReal/gotoEditPayment.html',\t     controller: 'CtrlEditPayment'      }).\r\n      when('/gotoEditCustomer', { \ttemplateUrl: '../aReal/gotoEditCustomer.html',\t     controller: 'CtrlEditCustomer'      }).\r\n      when('/gotoEditShop', { \ttemplateUrl: '../aReal/gotoEditShop.html',\t     controller: 'CtrlEditShop'      }).\r\n      when('/gotoEditSell', { \ttemplateUrl: '../aReal/gotoEditSell.html',\t     controller: 'CtrlEditSell'      }).\r\n      when('/gotoDebt', { \ttemplateUrl: '../aReal/gotoEditDebt.html',\t     controller: 'CtrlEditDebt'      }).\r\n      when('/gotoReport', { \ttemplateUrl: '../aReal/gotoReport.html',\t     controller: 'CtrlDailyReport'      }).\r\n      when('/gotoBlank', { \ttemplateUrl: '../aReal/gotoBlank.html',\t     controller: 'CtrlBlankPage'      }).\r\n      when('/gotoUSB', { \ttemplateUrl: '../aReal/gotoUSB.html',\t     controller: 'CtrlGotoUSB'      }).\r\n      otherwise({ redirectTo: '/'  });\r\n}]);\r\n//       when('/gotoReport', { \ttemplateUrl: '../aReal/gotoReport.html',\t     controller: 'CtrldailyReport'      }); \r\n// ---------------------------------------------------------------------------- *** CTRL -  Main Login & Menu *** --------------------------------------------------------------------------\r\napp.controller('SME_Ctrl', function($scope, $route){\r\n\r\n    $scope.selectUser = { name : '' , pass : '' , level : '1', date:'' };\r\n    \r\n// ---------------------------------------------------------------------------- Navigation Forward LogIn > Menu -----------------------------------------------------------------------------\r\n// Check User\r\n$scope.isUser = function(){\r\ntry{\r\n    // secure way\r\n    if( localStorage.getItem('user') ) {\r\n        var userArray = JSON.parse( localStorage.getItem('user') );\r\n        console.log('index.html - isUser() : all user = '+localStorage.getItem('user') );\r\n        // is user\r\n        var flagUser = false;\r\n        for(var i=0; i<userArray.length; i++){\r\n              if( ($scope.selectUser.name === userArray[i].name) && ($scope.selectUser.pass === userArray[i].pass)){\r\n                    $scope.selectUser.level = userArray[i].level;\r\n                   // found user\r\n                   flagUser = true;\r\n                   // move to Menu\r\n                   document.getElementById('toggle-menuPanel').checked = true;\r\n                  // Hide Show\r\n                  if( $scope.selectUser.level !== 1 ){\r\n                      document.getElementById('adminPanel').style.display = 'none';\r\n                  }else{\r\n                      document.getElementById('adminPanel').style.display = 'block';\r\n                  }\r\n             }\r\n         }\r\n        if( !flagUser )         throw 'ตรวจสอบ ชื่อ และ รหัส';\r\n        // Check Date NO USB is loaded\r\nvar selectedDate = document.getElementById('calendarDate').value;\r\nif( isNaN( parseInt( selectedDate ) ) )                  throw 'ผิดพลาด - วันที่ ';\r\nvar selectedMonth = document.getElementById(\"calendarMonth\").options[document.getElementById(\"calendarMonth\").selectedIndex].value;\r\nvar selectedYear = document.getElementById(\"calendarYear\").value;\r\nif( isNaN( parseInt( selectedYear ) ) )                  throw 'ผิดพลาด - ปี ';\r\n// is same month ?\r\nvar dateObj = new Date( selectedYear,  selectedMonth , selectedDate);\r\nif( parseInt( selectedMonth ) !== dateObj.getMonth() ){\r\n    throw 'index.html - isUser() , month, select tag = '+selectedMonth+' , @Date Obj = '+dateObj.getMonth();\r\n}\r\n// set global clock\r\nvar  txtInputDate = selectedDate+'/'+ ( parseInt( selectedMonth ) + 1 )+'/'+( parseInt( selectedYear ) - 543);\r\nlocalStorage.setItem('userCalendar', JSON.stringify({ today : txtInputDate, timeStamp: dateObj.getTime() }) );\r\nconsole.log('index.html - isUser() - selected date = '+txtInputDate);\r\n// SET - Today, ---------------------------------------------- IF find Today, transfer to History --------------------------------------------------------------------------------------\r\n        var historyArray = JSON.parse( localStorage.getItem('history') );\r\n        var todayArray = JSON.parse( localStorage.getItem('today') );\r\n        \r\n        if( todayArray.length > 0 )\r\n        if( todayArray[0].billDate.localeCompare( txtInputDate ) !== 0 ){\r\n            // Date Exist in History ?\r\n            if( historyArray.hasOwnProperty( txtInputDate ) ){\r\n                for( s of todayArray )                      historyArray[txtInputDate].push(s);\r\n            }else{\r\n                historyArray[txtInputDate] = new Array();\r\n                for( s of todayArray )                      historyArray[txtInputDate].push(s);\r\n            }\r\n            localStorage.setItem('history', JSON.stringify( historyArray ));\r\n            localStorage.setItem('today', JSON.stringify( new Array() ));\r\n            console.log('inex.html - isUser() - Finished transfer Today Array to History Array');\r\n        }// IF no Today Array is detected, When Page is loaded, it is created automatically\r\n        // SET - Debt Today, ------------------------------------------------------------------------ IF find debtToday, transfer to DebtHistory ---------------------------------------------------------------------------------------------\r\n        var debtHistoryArray = JSON.parse( localStorage.getItem('debtHistory') );\r\n        var debtTodayArray = JSON.parse( localStorage.getItem('debtToday') );\r\n\r\n        if( debtTodayArray.length > 0 )\r\n        if( debtTodayArray[0].billDate.localeCompare( txtInputDate ) !== 0 ){\r\n        // Date Exist in DebtHistory ?\r\n            if( debtHistoryArray.hasOwnProperty( txtInputDate ) ){\r\n                    for( s of debtTodayArray )                    debtHistoryArray[txtInputDate].push(s);\r\n             }else{\r\n                    debtHistoryArray[txtInputDate] = new Array();\r\n                    for( s of debtTodayArray )                   debtHistoryArray[txtInputDate].push(s);\r\n             }\r\n             localStorage.setItem('debtHistory', JSON.stringify( debtHistoryArray ));\r\n             localStorage.setItem('debtToday', JSON.stringify( new Array() ));\r\n             console.log('index.html - isUser() - Finished transfer Debt Today Array to Debt History Array');\r\n        } // IF no Debt Today Array is detected, When Page is loaded, it is created automatically\r\n\r\n        // OK - user\r\n        document.getElementById('fileInput').style.backgroundColor  = 'rgba(0, 70, 107, 1)';\r\n        document.getElementById('fileInput').style.color  = 'rgba(221, 235, 244, 0.5)';\r\n        $scope.selectUser.date = txtInputDate;\r\n        // log\r\n        console.log('index.html - isUser() - selected user = '+$scope.selectUser.name+' , passWord = '+$scope.selectUser.pass+' Date[d/M/YYYY] = '+$scope.selectUser.date+' , flagUser = '+flagUser);\r\n    }else{\r\n        document.getElementById('fileInput').style.backgroundColor  = 'red';\r\n        document.getElementById('fileInput').style.color  = 'white';\r\n        console.log('index.html - isUser : NOT FOUND User in LocalStorage, Please load User in LocalStorage');\r\n        throw 'นำเข้า ข้อมูล';\r\n    }\r\n}catch(e){\r\n    window.alert('ผิดพลาด - '+e);\r\n}\r\n}\r\n// ------------------------------------------------------------------------------ Navigation Forward: Menu > Work --------------------------------------------------------------------------------------\r\n$scope.gotoWork = function(){\r\n    // move -> Work Panel\r\n    document.getElementById('buttonWork').click();\r\n}\r\n\r\n// ------------------------------------------------------------------------------ Navigation Back: Menu > LogIn --------------------------------------------------------------------------------------\r\n$scope.goLoginPanel = function(){\r\n  document.getElementById('buttonMenu').click();\r\n  // reset\r\n  document.getElementById('inputUserName').value = '';\r\n  document.getElementById('inputUserPass').value= '';\r\n}\r\n// ------------------------------------------------------------------------------ Navigation Back : Work > Menu --------------------------------------------------------------------------------------\r\n$scope.goMenuPanel = function(){\r\n  \r\n  if( document.getElementById('toggle-menuPanel').checked & document.getElementById('toggle-workPanel').checked )\r\n      document.getElementById('toggle-workPanel').checked = false;          // move back to Menu\r\n    // log\r\n    console.log('index.html - goMenuPanel() : toggle-menu = '+document.getElementById('toggle-menuPanel').checked+' , toggle-work = '+document.getElementById('toggle-workPanel').checked);\r\n}\r\n// ------------------------------------------------------------------------------ Communication $on ------------------------------------------------------------------------------------------------------------\r\n// ON\r\n$scope.$on('backToMenu', function (event, args) {\r\n if( args.msg === 1 )\r\n     document.getElementById('toggle-workPanel').checked = false;\r\n    // REPORT\r\n    console.log('index - $on() : You are at Menu Panel, message = '+args.msg+' : toggle-menu = '+document.getElementById('toggle-menuPanel').checked+' , toggle-work = '+document.getElementById('toggle-workPanel').checked);\r\n    // load Blank page (No moving)\r\n    angular.element(document).ready(function(){\r\n        document.getElementById('myBlankPage').click();\r\n        console.log('index.html - $on() : BlankPage is loaded');\r\n    });\r\n});\r\n\r\n}); // END SME_CTRL\r\n</script>\r\n</body>\r\n</html>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}